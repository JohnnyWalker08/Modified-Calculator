<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
    <link rel="stylesheet" href="newIndex.css">
<body>
    <div class="calculator">
  <div class="calculator__output">0</div>
  <div class="calculator__keys">
    <button class="calculator__key calculator__key--operator">+</button>
    <button class="calculator__key calculator__key--operator">-</button>
    <button class="calculator__key calculator__key--operator">&times;</button>
    <button class="calculator__key calculator__key--operator">รท</button>
    <button class="calculator__key">7</button>
    <button class="calculator__key">8</button>
    <button class="calculator__key">9</button>
    <button class="calculator__key">4</button>
    <button class="calculator__key">5</button>
    <button class="calculator__key">6</button>
    <button class="calculator__key">1</button>
    <button class="calculator__key">2</button>
    <button class="calculator__key">3</button>
    <button class="calculator__key">0</button>
    <button class="calculator__key">.</button>
    <button class="calculator__key">AC</button>
    <button class="calculator__key calculator__key--enter">=</button>
  </div>
</div>
<script>
  const output = document.querySelector('.calculator__output');
  const keys = document.querySelector('.calculator__keys');

  let firstValue = '';
  let operator = '';
  let awaitingNextValue = false;

  function calculate(first, operator, second) {
    first = parseFloat(first);
    second = parseFloat(second);

    if (operator === '+') return first + second;
    if (operator === '-') return first - second;
    if (operator === 'ร') return first * second;
    if (operator === 'รท') return second !== 0 ? first / second : 'Error';
    return second;
  }

  keys.addEventListener('click', (e) => {
    const key = e.target;
    const value = key.textContent;
    const displayValue = output.textContent;

    if (!key.classList.contains('calculator__key')) return;

    // If it's a number or dot
    if (!key.classList.contains('calculator__key--operator') && value !== '=' && value !== 'AC') {
      if (awaitingNextValue) {
        output.textContent = value === '.' ? '0.' : value;
        awaitingNextValue = false;
      } else {
        output.textContent =
          displayValue === '0' && value !== '.' ? value : displayValue + value;
      }
    }

    // If it's an operator
    if (key.classList.contains('calculator__key--operator')) {
      if (firstValue && operator && !awaitingNextValue) {
        const result = calculate(firstValue, operator, displayValue);
        output.textContent = result;
        firstValue = result;
      } else {
        firstValue = displayValue;
      }
      operator = value;
      awaitingNextValue = true;
    }

    // Equals key
    if (value === '=') {
      if (firstValue && operator) {
        const result = calculate(firstValue, operator, displayValue);
        output.textContent = result;
        firstValue = '';
        operator = '';
        awaitingNextValue = true;
      }
    }

    // Clear key
    if (value === 'AC') {
      output.textContent = '0';
      firstValue = '';
      operator = '';
      awaitingNextValue = false;
    }
  });
</script>

    
</body>

</html>
